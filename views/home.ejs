<html>
    <head>
        <title>
            <%= title %>
        </title>
        <!-- inclusion of all the the css files made separately for each of the 3 sections -->
        <link rel="stylesheet" href="/css/style.css">
        <link rel="stylesheet" href="/css/stylefile2.css">
        <link rel="stylesheet" href="/css/stylefile3.css">
        <meta name= "viewport" content= "width=device-width, initial-scale=1, minimum-scale=1">
    </head>

    <body>
        <main>
        <section id= "toggle-sec">

            <div>
                <!-- heading -->
                <h1>MY TODO LIST APP</h1>
            </div>

            <div id= "mood">
            <!-- mood corner to toggle themes -->
                <i>MOOD UPDATE CORNER: <br> Click on the box below for a theme change</i>
            </div>
            
                <h5>SUBTLE</h5>
                

            <div id= "btn-box">
                <div id= "btn">
                </div>
            </div>

            <h5>BOLD</h5>
            
                
        
        </section>

        <section id= "input-sec">
        
            <form action="/task-add" method="POST" id= "input-form">
                
                <div id= "desc">
                    <br>

                    <!-- description attribute -->

                <h2>DESCRIPTION</h2>

                <input type="text" id="desc-check" name="description" placeholder="E.g. Finish the bootstrap module today" required>
                </div>
                
                <div id= "catdate">
                    <div id="category">

                        <!-- category selection  -->

                    <h2>CATEGORY</h2>
                    
                    <select name="category" id= "cat" required>          
                        <option selected value="null">Choose a category</option>
                        <option value="Personal" class="personal">Personal</option>
                        <option value="Coding" class="coding">Coding</option>
                        <option value="Debsoc" class="debsoc">Debsoc</option>
                        <option value="College" class="college">College</option>
                        <option value="Other" class="other">Other</option>
                    </select>
                </div>
                
                <br>

                <div id= "due-date">
                    <!-- select the due date from here -->
                    <h2>DUE DATE</h2>
                    <input type="date" id="due-date" name="due">
                </div>
            </div>
                <br>

                <!-- add task button -->
                <div><button type="submit" id= "add-btn">ADD TASK</button>  </div>
                <br> 
            </form>   
        </section>

        <section id= "output-sec-pseudo">


                      <form action="/delete-task" method="POST" id="output-form"> 
                        
                        <!-- delete task functionality -->

                        <div class= "del-button"> 
                            <button value="delete" id="del-btn">DELETE TASK</button>
                        </div>     
                 
                      
                        <% for(let t of tasks){ %>

                            <!-- loop to go over the displaying of all the inputed tasks -->

                            <div id= "output-sec">

                            <input type="checkbox" name="display" class="check-box" value= "<%= t._id %>">     
                                    <label class="strikethrough" for= "<%= t._id %>">
                                 
                                    <div id="opdesc">
                                        <div>
                                            <!-- display the description -->
                                        <svg class="bi bi-list-task" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M2 2.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H2zM3 3H2v1h1V3z"/>
                                            <path d="M5 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM5.5 7a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9zm0 4a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9z"/>
                                            <path fill-rule="evenodd" d="M1.5 7a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V7zM2 7h1v1H2V7zm0 3.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H2zm1 .5H2v1h1v-1z"/>
                                          </svg> <b><i>Description: </i></b><%= t.description %></div>

                                    <!-- display the category -->
                                    <div id="opcat"><button type="submit" id="disp-cat" class= "personal debsoc other college coding">
                                        <%= t.category%></button><br></div> </div>

                                    <!-- display the due date -->
                                    <div id="opdate">
                                        <svg class="bi bi-calendar-date-fill" width="1.3em" height="1.3em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M4 .5a.5.5 0 0 0-1 0V1H2a2 2 0 0 0-2 2v1h16V3a2 2 0 0 0-2-2h-1V.5a.5.5 0 0 0-1 0V1H4V.5zM0 5h16v9a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V5zm9.336 7.79c-1.11 0-1.656-.767-1.703-1.407h.683c.043.37.387.82 1.051.82.844 0 1.301-.848 1.305-2.164h-.027c-.153.414-.637.79-1.383.79-.852 0-1.676-.61-1.676-1.77 0-1.137.871-1.809 1.797-1.809 1.172 0 1.953.734 1.953 2.668 0 1.805-.742 2.871-2 2.871zm.066-2.544c.625 0 1.184-.484 1.184-1.18 0-.832-.527-1.23-1.16-1.23-.586 0-1.168.387-1.168 1.21 0 .817.543 1.2 1.144 1.2zm-2.957-2.89v5.332H5.77v-4.61h-.012c-.29.156-.883.52-1.258.777V8.16a12.6 12.6 0 0 1 1.313-.805h.632z"/>
                                        </svg>

                                        <b><i>Due Date: </i></b>(yyyy-mm-dd)&nbsp;<%= t.due%> 
                                    
                                </div><br>
                                    </label>               
                        <%} %> 
                    </div>
                        
                    </form>

                </section>
            </main>
            <!-- inclusuion of the javascript file used for the toggle button and category backgrounds -->
            <script type= "text/javascript" src="/javascript/javascript.js"></script>

    </body>
</html>